// Prompt per Replit Agent - Estensione FunzionalitÃ  SuperAdmin

/\* âœ… OBIETTIVO: Aggiungi al sistema SeleApp tutte le funzionalitÃ  avanzate per il ruolo SUPERADMIN come descritto. \*/

// ğŸ“ 1. AGGIUNTA MODELLI DATABASE (Drizzle Schema)
// shared/schema.ts
Aggiungi tabelle/colonne:

* reserve\_settings: id, reserveId, logoUrl, silenceDays (es: \[2,5]), emailTemplateCustomizations (JSON)
* contracts: id, reserveId, status ('attivo', 'in scadenza', 'scaduto'), fileUrl
* support\_tickets: id, reserveId, adminId, subject, message, status ('open', 'resolved'), createdAt
* billing: id, reserveId, plan, paymentStatus, renewalDate
* materials: id, title, url, type ('pdf', 'video'), assignedTo ('admin', 'hunter')

// ğŸ“‚ 2. BACKEND ROUTES (server/routes/superadmin/)
Crea nuove rotte:

* reserveSettings.ts â†’ GET/POST per silenzio venatorio e personalizzazioni
* contracts.ts â†’ upload contratto, visualizzazione stato
* support.ts â†’ visualizza richieste di aiuto, cambia stato
* billing.ts â†’ piani attivi, cronologia, Stripe webhook listener
* materials.ts â†’ upload materiali formativi e access log

// ğŸ” Proteggi tutte queste rotte solo per ruolo SUPERADMIN tramite middleware auth.ts

// ğŸ“± 3. FRONTEND (client/pages/SuperAdminDashboard.tsx)
Aggiungi sezioni nella dashboard:

* Impostazioni Riserve â†’ giorni silenzio, logo, messaggi personalizzati
* Contratti â†’ stato contratto, link PDF, upload/modifica
* Supporto â†’ lista ticket, filtra per prioritÃ  o riserva, rispondi
* Abbonamenti â†’ piani attivi, gestione rinnovi, report pagamento
* Formazione â†’ lista materiali PDF/video, traccia accessi
* Statistiche Globali â†’ filtro per specie/zone/data + esporta CSV

// ğŸ“¤ 4. INTEGRAZIONI EMAIL

* supporta invio automatico email da supporto (es. risposta a ticket)
* reminder contratto in scadenza

// ğŸ§ª 5. TEST E DEPLOY

* Aggiorna seed iniziale per nuove tabelle
* Testa tutte le route con Postman o via interfaccia
* Verifica visibilitÃ  dati cross-riserva solo per SUPERADMIN

// â— Ricorda di aggiornare le policy di sicurezza nei controlli backend per garantire isolamento tra le riserve.

// Pronto per implementare tutte le funzionalitÃ  richieste. Inizia ora!
